<div class="row">
  <div class="col-6"><h1>Takings</h1></div>
  <div class="col-6">
    <button routerLink="add" class="btn btn btn-success m-1 mt-1">
      Add New Takings
    </button>
    <button
      *ngIf="
        user.isAdmin && takingslistNotInQB && takingslistNotInQB.length > 0
      "
      class="btn btn-sm btn-warning m-1 mt-1"
      (click)="addAllToQuickbooks()"
    >
      Add All to QuickBooks
    </button>
  </div>
</div>
<div *ngIf="average$ | async as avg">
  Average Sales £{{ avg | number: "1.2-2" }}
</div>
<table class="table table-striped table-responsive">
  <thead>
    <tr>
      <th style="width: 40%">Date</th>
      <th style="width: 25%">Sales</th>
      <th style="width: 20%">+/-</th>
      <th style="width: 15%">Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr
      *ngFor="let myTakings of takingslist"
      takings-row
      [takings]="myTakings"
      [user]="user"
      (onTakingsDeleted)="takingsWasDeleted($event)"
      (onTakingsAddedToQB)="takingsWasAddedToQB($event)"
    ></tr>
    <tr *ngIf="!takingslist">
      <td colspan="4" class="text-center">
        <span class="spinner-border spinner-border-lg align-center"></span>
      </td>
    </tr>
  </tbody>
</table>
