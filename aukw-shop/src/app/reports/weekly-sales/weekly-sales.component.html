<div class="card mt-4 col-sm-11">
  <div class="card-header d-flex justify-content-between">
    <div class="col-sm">
      <h4>Average Weekly Sales, By Quarter</h4>
    </div>
    <div>
      <button type="button" routerLink="/reports" class="btn btn-outline-dark">
        Close &times;
      </button>
    </div>
  </div>
  <div class="card-body">
    <div *ngIf="!data" class="spinner-border spinner-border-sm"></div>
    <div class="row class">
      <div class="col-sm">
        <p class="p-2" *ngIf="data">
          This report shows the average weekly sales, computed
          quarter-by-quarter.
        </p>
        <p class="px-2" *ngIf="data">
          The 'Count' column shows the number of trading weeks in each quarter.
        </p>
        <p class="px-2" *ngIf="data">
          Average weekly sales is sometimes required by the Charity Retail
          Association in their QMA surveys.
        </p>
        <table class="table table-striped table-hover table-responsive w-auto">
          <thead>
            <tr>
              <th>Quarter</th>
              <th>Count</th>
              <th>Average Weekly Sales</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of data; index as i">
              <th>
                <span class="text-dark" *ngIf="data">{{
                  data[i].year + "-Q" + data[i].quarter
                }}</span>
              </th>
              <td class="text-center">{{ data[i].weeks_in_quarter }}</td>
              <td class="text-center">
                {{ data[i].avg_weekly_income | number: "1.2-2" }}
              </td>
            </tr>
            <tr *ngIf="!data">
              <td colspan="4" class="text-center">
                <span
                  class="spinner-border spinner-border-lg align-center"
                ></span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
